<h4 class="text-center">Register</h4>

<form #form="ngForm" [formGroup]='this.signupForm' class="form mt-4" (submit)='this.register()'>
    <div class="form-group">
        <input formControlName='name' class="form-control" placeholder="nome" autofocus>
        <td-invalid-message message='Nome é necessario' *ngIf='this.signupForm.get("name").errors?.required 
                                                            && (this.form.submitted ||  this.signupForm.get("name").touched)'></td-invalid-message>
        <td-invalid-message message='Tamanho minimo 8' *ngIf='this.signupForm.get("name").errors?.minlength 
                                                            && (this.form.submitted ||  this.signupForm.get("name").touched)'></td-invalid-message>
        <td-invalid-message message='Tamanho maximo 100' *ngIf='this.signupForm.get("name").errors?.maxlength 
                                                            && (this.form.submitted ||  this.signupForm.get("name").touched)'></td-invalid-message>

    </div>
    <div class="form-group">
        <input formControlName='username' class="form-control" placeholder="login" autofocus>
        <td-invalid-message message='Login é necessario' *ngIf='this.signupForm.get("username").errors?.required 
                                                            && (this.form.submitted ||  this.signupForm.get("username").touched)'></td-invalid-message>
        <td-invalid-message message='Login minimo 8' *ngIf='this.signupForm.get("username").errors?.minlength 
                                                            && (this.form.submitted ||  this.signupForm.get("username").touched)'></td-invalid-message>
        <td-invalid-message message='Login maximo 20' *ngIf='this.signupForm.get("username").errors?.maxlength 
                                                            && (this.form.submitted ||  this.signupForm.get("username").touched)'></td-invalid-message>
        <td-invalid-message message='Somente numeros e letras minusculas' *ngIf='this.signupForm.get("username").errors?.lowercase 
                                                            && (this.form.submitted ||  this.signupForm.get("username").touched)'></td-invalid-message>
    </div>
    <div class="form-group">
        <input formControlName='email' class="form-control" placeholder="email" >
        <td-invalid-message message='Email é necessario' *ngIf='this.signupForm.get("email").errors?.required 
                                                            && (this.form.submitted ||  this.signupForm.get("email").touched)'></td-invalid-message>
        <td-invalid-message message='Formato invalido' *ngIf='this.signupForm.get("email").errors?.email 
                                                            && (this.form.submitted ||  this.signupForm.get("email").touched)'></td-invalid-message>
    </div>
    
    <div class="form-group">
        <input formControlName='password' type="password" class="form-control" placeholder="senha">
        <td-invalid-message message='Senha é necessaria' *ngIf='this.signupForm.get("password").errors?.required 
                                                            && (this.form.submitted ||  this.signupForm.get("password").touched)'></td-invalid-message>
        <td-invalid-message message='Senha minimo 8' *ngIf='this.signupForm.get("password").errors?.minlength 
                                                            && (this.form.submitted ||  this.signupForm.get("password").touched)'></td-invalid-message>
        <td-invalid-message message='Senha maximo 20' *ngIf='this.signupForm.get("password").errors?.maxlength 
                                                            && (this.form.submitted ||  this.signupForm.get("password").touched)'></td-invalid-message>
    </div>

    <div class="form-group">
        <input formControlName='confirmPassword' type="password" class="form-control" placeholder="confirmação senha" >    
        <td-invalid-message message='Valor informado precisa ser igual ao do campo "senha"' *ngIf='this.signupForm.errors?.PasswordValidator 
                                                            && (this.form.submitted ||  this.signupForm.get("confirmPassword").touched)'></td-invalid-message>
    </div>

    <button [disabled]='this.signupForm.invalid' type="submit" class="btn btn-primary btn-block">Registrar</button>
</form>